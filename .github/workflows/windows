name: WINDOWS_CI

on:
    push:
        branchs: [main]
    pull_request:
        branchs: [main]

    workflow_dispatch:

jobs:
    build:
        name: "Windows CI Build"
        runs-on: windows-latest
        steps:
            - uses: actions/checkout@v2
            - name: Display the Path by pwsh
              run: echo ${env:Path}
              shell: pwsh
            - name: Display github.workspace by pwsh
              run: |
                echo "github.workspace is ${{ github.workspace }}."
                ls ${{ github.workspace }}
              shell: pwsh
            - name: CMake Build
              run: |
                cd ${{ github.workspace }}
                ls
                mkdir build
                cd build
                cmake --version
                cmake -DCMAKE_INSTALL_PREFIX=${{ github.workspace }} ../
                ls
              shell: pwsh
            - name: CMake Install
              run: |
                cd ${{ github.workspace }}/build
                ls
                cmake --build . --target INSTALL --config Release
                ls "${{ env.prefix }}"
                cd "${{ env.prefix }}/bin"
              shell: pwsh